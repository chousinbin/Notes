# 树和图的存储

树是一种特殊的图：无环连通图

图分为有向图和无向图：

- 有向图：具有单向性；
- 无向图：具有双向性，是特殊的有向图。

## 邻接矩阵

二维数组存储图，不能存储重边，时间复杂度为 $O(n^2)$，适合稠密图。

```cpp
int g[N][N];
g[a][b] = 1;
```

说明 a 到 b 有一条权值为 1 的边；

## 邻接表

为图中每个结点创建一个链表，链表的结点为当前图的结点的子结点。

```cpp
const int N = 1e5 + 10;
const int M = 2 * N; // 无向图两条边

int h[N]; // 链表中头结点的指针
int e[N]; // 链表中结点的值
int ne[N]; // 链表中当前结点的下一结点的指针
int idx; // 结点的指针

// 头插法给 a 插入子结点 b
void add(int a, int b)
{
    e[idx] = b;
    ne[idx] = h[a];
    h[a] = idx ++;
}

// 初始化头结点
void init()
{
    memset(h, -1, sizeof h);
}
```

