# 运算符重载

> 日期：2024年4月23日
>
> 班级：软工212
>
> 学号：01
>
> 姓名：周新斌

## 代码

```cpp
#include<bits/stdc++.h>
using namespace std;

class MyPoint
{
		int x, y;
	
	public:
		MyPoint(int x = 0, int y = 0)
		{
			this->x = x;
			this->y = y;
		}
		
		int getX()
		{
			return x;
		}
		
		int getY()
		{
			return y;
		}
		// 参数列表带 int 默认后增，反之前增
		const MyPoint operator++(int)
		{
			cout << "后增 post - increment" << endl;
			MyPoint old(x, y);
			x++;
			y++;
			return old;
		}
		// 返回引用避免再次调用拷贝构造函数
		const MyPoint& operator++()
		{
			cout << "前增 pre - increment" << endl;
			++x;
			++y;
			return *this;
		}

		friend const MyPoint & operator--(MyPoint &a);
		friend const MyPoint operator--(MyPoint &a, int);

		// 输出符号必须作为友元函数
		friend ostream& operator<<(ostream &, MyPoint &);
		friend istream& operator>>(istream &, MyPoint &);
	
};

const MyPoint& operator--(MyPoint &a)
{
	cout << "pre - decrement" << endl;
	--a.x;
	--a.y;
	return a;
}

const MyPoint operator--(MyPoint &a, int)
{
	cout << "post - decrement" << endl;
	MyPoint old(a.x, a.y);
	a.x--;
	a.y--;
	return old;
}

ostream& operator<<(ostream &out, MyPoint &obj)
{
	out << obj.x << ' ' << obj.y;
	return out;
}

istream& operator>>(istream &in, MyPoint &obj)
{
	in >> obj.x >> obj.y;
	return in;
}

int main()
{
	MyPoint a(1, 2);
	MyPoint b(3, 4);
	
	// 前增与后增
	cout << a.getX() << ' ' << a.getY() << endl;
	++a;
	a++;
	cout << a.getX() << ' ' << a.getY() << endl;
	// 前减与后减
	cout << a.getX() << ' ' << a.getY() << endl;
	--a;
	a--;
	cout << a << endl;

	// 验证输入输出
	MyPoint p4;
	cin >> p4;
	cout << p4 << endl;

	return 0;
}
```

## 运行截图

<img src="https://cdn.jsdelivr.net/gh/chousinbin/Image/202404231145820.png" alt="image-20240423114507759" style="zoom:33%;" />
