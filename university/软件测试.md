# 软件测试

> 作业：30 分
>
> 上机：30 分
>
> 考试：20 分
>
> 学习报告：20 分（笔记）
>

# 1 测试理论

## 1.1 测试角度

- 功能测试
- 界面测试
- 易用性测试
- 性能测试
- 安全性测试

## 1.2 测试用例

- 测试用例是可以独立进行测试执行的最小单元；
- 软件测试是将软件测试活动转换为标准文档；

### 测试用例基本内容

- 前置条件
- 测试数据
- 测试环境
- 测试步骤
- 期望结果

### 重要性

- 软件测试是有组织性、步骤性和计划性的；
- 测试用例是测试工作的指导，

### 测试用例质量

- 有效性
- 可复用性
- 易组织性
- 客观性
- 可评估和可管理性
- 知识传递

## 1.3 用例设计方法

### 等价类划分法

#### 定义

- 等价类是某个输入域的子集，在该**子集中每个输入数据的作用是等效的**；
- 将输入数据分成若干个等价类，从每个等价类选取一个代表性的数据作为测试用例；
- 等价类分为有效等价类和无效等价类。

#### 划分

- MECE：相互独立，完全穷尽；
- 识别全集。

### 边界类分析法

- 如果输入条件规定了值的范围，则应取港大道这个范围的边界的值，以及刚刚超过这个范围边界的值作为测试输入数据；
- 如果规定了值的个数，租用最大个数、最小个数、比最小个数少一、比最大个数多以的数作为测试数据。

## 1.4 软件缺陷

> Bug

严重性：衡量缺陷对客户满意度的影响程度

优先级：指缺陷被修复的紧急程度

### 生命周期

```mermaid
graph TD
发现 --> 打开 --> 修复 --> 关闭
```

## 1.5 软件测试

软件测试是伴随开发过程的全过程的，开发人员开发的同时还要书写测试代码。

- 动态测试：动态测试是在程序运行时执行的测试方法，它通过实际运行软件并输入测试数据来评估软件的行为；
- 静态分析：静态分析是在软件代码的静态状态下进行的一种测试方法，它不需要实际执行程序。

### 软件测试的层次

- 单元测试
- 集成测试
- 系统测试：系统测试分为功能测试和非功能测试。
- 验收测试：在实际客户环境中与客户同时测试。

### 白盒测试

- 语句覆盖：测试用例要覆盖所有代码；
- 判定覆盖：每个判定的分支至少被执行一次；
- 条件覆盖：每个判定的每个可能结果至少被执行一次。

### 非功能测试

- 性能
- 安全性
- 稳定性
- 兼容性

## 1.6 需求定义

### 业务需求

业务需求是对组织或企业在特定项目或业务活动中要达成的目标和满足的需求，通常由高层管理人员或业务分析师定义，并着重于解决问题、实现目标以及适应市场需求的方向。

如：快递公司通过快递柜引导用户自助揽件

### 用户需求

用户需求则是从最终用户的角度出发，描述了用户对软件系统的期望和要求，包括对系统功能、性能、易用性等方面的期望。

如：用户通过快递柜自助发件

### 功能需求

功能需求是用户需求的具体化，它们描述了系统需要具备的功能和特性，以及用户希望系统如何响应和行为，是开发团队基于用户需求而定义的，用于指导软件开发、测试和交付的具体规范

如：快递柜能自助发件

# 2 用例跟踪

自动化测试平台通常提供了用例创建和用例评审的功能，让团队可以更有效地管理测试用例并确保其质量。

## 2.1 用例创建

1. **新建用例：** 在自动化测试平台上，通常有一个界面或者功能可以创建新的测试用例。用户可以点击相应的按钮或链接，进入到创建用例的界面。
2. **填写用例信息：** 在创建用例的界面，用户需要填写一些基本信息，例如用例标题、描述、前置条件、步骤、预期结果等。
3. **添加步骤：** 用户需要逐步描述测试用例的执行步骤。每个步骤通常包括一个操作（例如点击按钮、输入文本等）和一个预期结果。
4. **保存用例：** 完成用例信息和步骤的填写后，用户可以保存用例并返回到用例列表界面。
5. **管理用例：** 在用例列表界面，用户可以对已创建的用例进行管理，包括编辑、复制、删除等操作。

## 2.2 用例评审

1. **选择用例进行评审：** 通常由项目经理或者质量保障团队负责发起用例评审。他们会选择一些待评审的用例，并将其分配给相关的团队成员。
2. **评审用例内容：** 团队成员会在自动化测试平台上查看待评审的用例，并针对其中的描述、步骤、预期结果等内容进行评审。他们可能会提出修改建议、指出遗漏或错误的地方。
3. **讨论和修改：** 在评审过程中，团队成员之间可能会进行讨论，讨论用例的实现细节、覆盖范围等。根据讨论结果，可能需要对用例进行修改或者补充。
4. **确认评审结果：** 一旦评审完成，项目经理或质量保障团队会确认评审结果，并将修改后的用例状态更新为已评审或者待执行。

# 3 UI 测试

> 2024年4月11日 上机

UI 测试是验证用户界面的外观和行为是否符合设计要求，以及是否易于使用和导航；

UI 测试是自动化测试平台对一个功能或一组操作进行模拟人工执行的过程，能自动检测并记录每个步骤执行情况。

流程主要包括：创建场景、添加步骤、设定步骤、添加元素、设定参数等。

核心内容体现在两个方面：添加元素与为元素分配操作。

## 3.1 添加元素步骤

1. 浏览器访问元素所在页面；
2. 右键单击目标元素，在弹出的菜单中左键单击**检查**；
3. 鼠标光标在弹出的开发者工具栏中移动，直到目标元素显示被框起来，表示所指代码块为目标元素的代码块；
4. 右键单击代码块，复制该元素的 XPath；
5. 返回 MeterSphere 平台按照 XPath 添加元素到元素库。

> XPath: 在Web开发中，XPath通常用于定位和操作HTML文档中的元素，特别是在自动化测试和网络爬虫等场景下，XPath被广泛用于定位和操作Web页面中的元素。通过XPath，开发人员可以准确地定位页面中的元素，从而实现对页面的自动化操作和数据提取。

## 3.2 UI 测试步骤

1. 创建一个场景；
2. 根据场景操作流程添加不同的步骤；
3. 为每个步骤配置操作元素；
4. 最后保存并执行；
5. 在 “测试报告” 检查执行情况。

## 3.3 Web 元素动态 ID

在进行 ”发布文章“ 的 UI 测试时，其中一个步骤是在弹窗中的标题输入框中输入标题，几次执行测试，均卡在此处报 Error

```
xpected condition failed: waiting for presence of element located by: By.xpath: //*[@id="input_109"] (tried for 15 second(s) with 500 milliseconds interval)
```

经过手动 Debug 发现此输入框的 ID 是动态的，所以 `XPath` 失效，导致报以上信息。

```html
<input class="formkit-input bg-white resize-none w-full text-black block transition-all h-full px-3 text-sm" type="text" name="title" id="input_38">

<input class="formkit-input bg-white resize-none w-full text-black block transition-all h-full px-3 text-sm" type="text" name="title" id="input_48">
```

知道了问题所在，找到输入框元素源代码如下：

```html
<input class="formkit-input bg-white resize-none w-full text-black block transition-all h-full px-3 text-sm" type="text" name="title" id="input_48">
```

解决方法是修改元素库中标题输入框信息，将匹配模式从 `XPath ` 改为 `className ` ，匹配值为 `formkit-input` 。

# 4 接口测试

> 在界面未开发之前，可以通过接口测试来验证功能。
>
> swagger
>

## 4.1 概念介绍

### 接口

接口是指外部系统与系统之间以及内部各子系统之间的交互点。

包括外部接口、内部接口，内部接口又包括：上层服务与下层服务接口、同级接口。

```mermaid
graph LR

应用层 --- 接口 --- 后台
```

### JSON

JSON（JavaScript Object Notation）是一种轻量级的数据交换格式，它基于 JavaScript 的语法，但已成为独立于编程语言的通用数据格式。JSON 易于阅读和编写，也易于机器解析和生成。它主要由两种结构构成：

1. **键值对（Key-Value Pairs）**：JSON 的基本元素是键值对，其中键是字符串，值可以是任意有效的 JSON 数据类型，如字符串、数字、布尔值、数组、对象等。键值对使用冒号（:）分隔键和值，多个键值对之间使用逗号（,）分隔。

2. **数据类型**：JSON 支持多种数据类型，包括字符串、数字、布尔值、数组、对象、null。这些数据类型可以嵌套组合，形成复杂的数据结构。

JSON 的优点包括易于阅读、易于编写、易于解析、与多种编程语言兼容等。它在 Web 开发、API 设计、配置文件等领域广泛应用。例如，在 Web 开发中，常用 JSON 作为前后端数据交换的格式；在 API 设计中，常用 JSON 作为 API 接口的数据传输格式。

### HTTP

HTTP（Hypertext Transfer Protocol）是一种用于传输超文本数据的协议，它是Web上数据传输的基础。HTTP通过客户端和服务器之间的请求-响应模型来传输数据，通常使用TCP协议作为传输层协议。HTTP是无状态的，即服务器不会保存客户端的状态信息，每个请求都是独立的，这样可以简化服务器的设计和实现。

### HTTPS

HTTPS（Hypertext Transfer Protocol Secure）是HTTP的安全版本，它通过在HTTP和TCP之间加入SSL/TLS协议来提供数据传输的安全性和加密性。HTTPS在HTTP的基础上添加了SSL/TLS的加密和身份验证机制，从而确保数据在传输过程中的机密性、完整性和可信度。HTTPS常用于安全敏感的网站，如电子商务网站、银行网站等。

### SSL

SSL（Secure Sockets Layer）是一种安全传输层协议，它位于TCP/IP协议之上，为数据通信提供了安全和加密保障。SSL最初由网景公司开发，后来被TLS（Transport Layer Security）所取代。TLS是SSL的升级版本，目前广泛应用于互联网上的安全通信。SSL/TLS通过使用公钥加密技术、证书验证和对称加密等手段来确保通信的安全性。

### 域名

域名是 IP 地址的别名，由于 IP 地址是四段 0 - 255 的数字，不容易被人们记忆，所以出现了域名帮助记忆。

### DNS

DNS (Domain Name System) 域名系统，DNS 服务器用于解析域名对应的 IP 地址。它是域名和 IP 地址相互映射的分布式数据库，这些 DNS 服务器分布在全球各地，为互联网用户提供域名解析服务。

为什么需要 DNS 呢？因为本地电脑并不知道你输入的一个域名指向哪个 IP 地址，需要向 DNS 服务器发起询问，得到对应的 IP 地址。

互联网服务提供者购买完域名之后，需要先将域名和自己服务的 IP 地址的映射信息交给 DNS 机构，这样别人才可以得到解析。

#### DNS 域名空间

根域、顶级域名、二级域名、三级域名 ...

- 根域：用 `.` 表示，位于域命名空间层次结构的最高层，全球分布着 13 台根域名服务器。保存其下层的顶级域的 DNS 服务器名称和 IP 地址的对应关系；
- 顶级域名：可分为组织域 (.com, .net, org, .gov, .edu ...) 和国家域 (.cn, .jp, .me, .in)
- 二级域名：二级域位于顶级域下层，是指为了在 Internet 上使用而注册到个人或企事业单位的域名，如 google.com;
- 子域：子域是根据具体情况从二级域中按部门或地理位置创建。

#### DNS 解析过程

```mermaid
graph TD
用户在浏览器输入www.google.com --> 浏览器检查浏览器缓存中是否有该域名解析IP地址
浏览器检查浏览器缓存中是否有该域名解析IP地址 --有--- 完成解析并返回
浏览器检查浏览器缓存中是否有该域名解析IP地址 --无--- 检查电脑本地DNS解析器缓存
检查电脑本地DNS解析器缓存 --有--- 完成解析并返回
检查电脑本地DNS解析器缓存 --无--- 检查本地hosts文件
检查本地hosts文件 --有--- 完成解析并返回
检查本地hosts文件 --无--- 访问DNS服务器
访问DNS服务器　--有--- 完成解析并返回
访问DNS服务器　--无--- 域名不存在访问失败 
```

### CND

CDN（Content Delivery Network）內容分发网络是指一种透过互联网互相连接的电脑网络系统，利用最靠近每位用户的服务器，更快、更可靠地将音乐、图片、影片、应用程序及其他文件发送给用户，来提供高性能、可扩展性及低成本的网络内容传递给用户。

<img src="https://cdn.jsdelivr.net/gh/chousinbin/Image/202404151632724.png" style="zoom: 20%;" />
